var app=angular.module("nimbl3",["ngCookies"]);app.filter("percentage",["$filter",function(e){return function(t,i){return e("number")(100*t,i)+"%"}}]),app.controller("MainController",["$scope","$http","$cookies","$httpParamSerializer",function(e,t,i,r){Ps.initialize(document.querySelector(".navmenu")),e.addProductTextbox="",e.currentActiveMenuIndex=0,e.sideNavMenuList=[{label:"Dashboard",image:{active:"/icons/controls-white.svg",inactive:"/icons/controls-purple.svg"},isActive:!0,colorBar:"#FFCC00"},{label:"Orders",image:{active:"/icons/shopping-cart-white.svg",inactive:"/icons/shopping-cart-purple.svg"},isActive:!1,colorBar:"#65B32E"},{label:"Companies",image:{active:"/icons/factory-white.svg",inactive:"/icons/factory-purple.svg"},isActive:!1,colorBar:"#65B32E"},{label:"Products",image:{active:"/icons/box-white.svg",inactive:"/icons/box-purple.svg"},isActive:!1,colorBar:"#65B32E"},{label:"Documents",image:{active:"/icons/document-white.svg",inactive:"/icons/document-purple.svg"},isActive:!1,colorBar:"#65B32E"},{label:"Pricing",image:{active:"/icons/pricing-label-white.svg",inactive:"/icons/pricing-label-purple.svg"},isActive:!1,colorBar:"#65B32E"},{label:"Brands",image:{active:"/icons/shapes-white.svg",inactive:"/icons/shapes-purple.svg"},isActive:!1,colorBar:"#65B32E"},{label:"Settings",image:{active:"/icons/gear-white.svg",inactive:"/icons/gear-purple.svg"},isActive:!1,colorBar:"#65B32E"},{label:"Reports",image:{active:"/icons/chart-white.svg",inactive:"/icons/chart-purple.svg"},isActive:!1,colorBar:"#65B32E"},{label:"Account Users",image:{active:"/icons/people-white.svg",inactive:"/icons/people-purple.svg"},isActive:!1,colorBar:"#65B32E"}],e.setMenuAsActive=(t=>{e.sideNavMenuList[e.currentActiveMenuIndex].isActive=!1,e.sideNavMenuList[t].isActive=!0,e.currentActiveMenuIndex=t}),e.login=(()=>new Promise((e,o)=>{let c={method:"POST",url:"/oauth/token",headers:{"Content-type":"application/x-www-form-urlencoded; charset=utf-8"},data:r({grant_type:"password",username:"nimbl3test",password:"helloworld",client_id:"mobile_android",client_secret:"secret"})};t(c).then(function(r){console.log(r.data.access_token),t.defaults.headers.common.Authorization="Bearer "+r.data.access_token,i.put("access_token",r.data.access_token),e()}).catch(o)})),e.getOrder=(i=>{t.get(`/orders/${i}`).then(t=>{console.log("getOrder result",t),e.order=t.data}).catch(e=>{alert("There is an error while retrieving order from the server."),console.error(e)})}),e.getProducts=(()=>{t.get("/products").then(t=>{console.log("getProducts result",t),e.productList=t.data}).catch(e=>{alert("There is an error while retrieving products from the server."),console.error(e)})}),e.showProductTextBoxOverlay=(()=>{angular.element(".add-product-textbox-overlay").show()}),e.hideProductTextBoxOverlay=(()=>{angular.element(".add-product-textbox-overlay").hide()}),e.login().then(()=>{e.getOrder(1),e.getProducts()})}]);